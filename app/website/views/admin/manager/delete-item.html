{% extends 'admin/layout.html' %}
{% set page_title = collection %}

{% block page_style %}{% endblock %}

{% block page_body %}
<div class="container my-5">
  <h3 class="mb-0">Confirm Deletion</h3>
  <hr class="mb-3" />

  <form method="post" class="d-flex flex-column gap-3">

    <h5 class="text-danger">
      <i class="bi bi-exclamation-circle-fill me-1"></i>
      You're about to permanently delete the below item from the database.
    </h5>

    <div class="border border-1 p-3 rounded-3 d-flex flex-column gap-1">
      <h6 class="text-secondary">Item details</h6>
      <hr class="my-0">
      <p class="fs-5 mb-0"><span class="text-secondary">Collection:</span> {{collection}}</p>
      {% for key,value in item.items() %}
      {% if key not in ['poster','logo','logo_wide'] %}
      <p class="fs-5 text-truncate mb-0"><span class="text-secondary">{{key}}:</span> {{value}}</p>
      {% endif %}
      {% endfor %}

      <div class="d-flex gap-1">
        {% for key,value in item.items() %}
        {% if key in ['logo','logo_wide'] %}
        <div>
          <span class="fs-5 text-secondary">{{key}}:</span>
          <div class="logo-container"><img src="data:image/*;base64,{{value}}"></div>
        </div>
        {% elif key in ['poster'] %}
        <div>
          <span class="fs-5 text-secondary">{{key}}:</span>
          <div class="logo-container"><img src="{{value}}"></div>
        </div>
        {% endif %}
        {% endfor %}
      </div>
    </div>

    <div class="col-lg-4 col-md-8 col-12">
      <div class="alert alert-danger" role="alert">
        <i class="bi bi-exclamation-circle-fill me-2"></i>This action is irreversible.
      </div>
      <div class="d-flex flex-wrap gap-2">
        <button type="submit" class="btn btn-danger">Permanently Delete</button>
        <button type="button" class="btn btn-secondary" onclick="history.back()">Cancel and go back</button>
      </div>
    </div>
  </form>
</div>
{% endblock %}

{% block page_script %}{% endblock %}